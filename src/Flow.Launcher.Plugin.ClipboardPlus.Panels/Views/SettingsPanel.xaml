<UserControl
    x:Class="Flow.Launcher.Plugin.ClipboardPlus.Panels.Views.SettingsPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converts="clr-namespace:Flow.Launcher.Plugin.ClipboardPlus.Panels.Converts"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Flow.Launcher.Plugin.ClipboardPlus.Panels.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:system="clr-namespace:System;assembly=mscorlib"
    xmlns:userControls="clr-namespace:Flow.Launcher.Plugin.ClipboardPlus.Panels.UserControls"
    xmlns:viewModels="clr-namespace:Flow.Launcher.Plugin.ClipboardPlus.Panels.ViewModels"
    d:DataContext="{d:DesignInstance viewModels:SettingsViewModel}"
    mc:Ignorable="d">

    <UserControl.Resources>
        <converts:MultiParameterConverter x:Key="MultiParameterConverter" />
        <converts:BoolReverseConverter x:Key="BoolReverseConverter" />

        <!--  // TODO: Remove these resources & xmlns:system="clr-namespace:System;assembly=mscorlib"  -->
        <!--  Settings Panel  -->
        <Thickness x:Key="SettingPanelMargin">70,13.5,18,13.5</Thickness>

        <Thickness x:Key="SettingPanelItemLeftMargin">9,0,0,0</Thickness>
        <Thickness x:Key="SettingPanelItemRightMargin">0,0,9,0</Thickness>
        <Thickness x:Key="SettingPanelItemTopBottomMargin">0,4.5,0,4.5</Thickness>

        <Thickness x:Key="SettingPanelItemLeftTopBottomMargin">9,4.5,0,4.5</Thickness>
        <Thickness x:Key="SettingPanelItemRightTopBottomMargin">0,4.5,9,4.5</Thickness>

        <Style x:Key="SettingPanelSeperatorStyle" TargetType="Separator">
            <Setter Property="Margin" Value="-70,13.5,-18,13.5" />
            <Setter Property="Height" Value="1" />
            <Setter Property="VerticalAlignment" Value="Top" />
            <Setter Property="Background" Value="{DynamicResource Color03B}" />
        </Style>

        <system:Double x:Key="SettingPanelTextBoxMinWidth">180</system:Double>
        <system:Double x:Key="SettingPanelPathTextBoxWidth">240</system:Double>
        <system:Double x:Key="SettingPanelAreaTextBoxMinWidth">270</system:Double>
        <system:Double x:Key="SettingPanelAreaTextBoxMinHeight">150</system:Double>

        <Style x:Key="SettingPanelTextBlockDescriptionStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Margin" Value="0,2,0,0" />
            <Setter Property="Foreground" Value="{DynamicResource Color04B}" />
        </Style>
    </UserControl.Resources>

    <Grid Margin="{StaticResource SettingPanelMargin}">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  Clear Keyword  -->
        <TextBlock
            Grid.Row="0"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_clear_keyword}" />
        <TextBox
            Grid.Row="0"
            Grid.Column="1"
            MinWidth="100"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            AcceptsReturn="False"
            Text="{Binding ClearKeyword, Mode=TwoWay}"
            TextWrapping="NoWrap" />

        <!--  Max Records  -->
        <TextBlock
            Grid.Row="1"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_max_records}" />
        <userControls:NumberBox
            Grid.Row="1"
            Grid.Column="1"
            Width="100"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalContentAlignment="Center"
            Maximum="{Binding MaxRecordsMaximum, Mode=OneTime}"
            Minimum="100"
            Value="{Binding MaxRecords, Mode=TwoWay}" />

        <!--  Record Order  -->
        <TextBlock
            Grid.Row="2"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_order_by}" />
        <ComboBox
            Grid.Row="2"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            ItemsSource="{Binding RecordOrders, Mode=OneWay}"
            SelectedItem="{Binding SelectedRecordOrder, Mode=TwoWay}" />

        <!--  Seperator  -->
        <Separator
            Grid.Row="3"
            Grid.ColumnSpan="2"
            Style="{DynamicResource SettingPanelSeperatorStyle}" />

        <!--  Action Top  -->
        <CheckBox
            Grid.Row="4"
            Grid.ColumnSpan="2"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Content="{DynamicResource flowlauncher_plugin_clipboardplus_action_top}"
            IsChecked="{Binding ActionTop, Mode=TwoWay}" />

        <!--  Sync Windows Clipboard History  -->
        <CheckBox
            Grid.Row="5"
            Grid.ColumnSpan="2"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Content="{DynamicResource flowlauncher_plugin_clipboardplus_sync_windows_clipboard_history}"
            IsChecked="{Binding SyncWindowsClipboardHistory, Mode=TwoWay}"
            IsEnabled="{Binding SyncWindowsClipboardHistoryEnabled, Mode=OneWay}"
            Visibility="{Binding SyncWindowsClipboardHistoryVisibility, Mode=OneTime}" />

        <!--  Use Windows Clipboard History Only  -->
        <StackPanel
            Grid.Row="6"
            Grid.ColumnSpan="2"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            Orientation="Horizontal"
            Visibility="{Binding SyncWindowsClipboardHistoryVisibility, Mode=OneTime}">
            <CheckBox
                VerticalAlignment="Center"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_use_windows_clipboard_history_only}"
                IsChecked="{Binding UseWindowsClipboardHistoryOnly, Mode=TwoWay}" />
            <Button
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding OpenWindowsClipboardSettingsCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_open_windows_clipboard_settings}" />
        </StackPanel>

        <!--  Seperator  -->
        <Separator
            Grid.Row="7"
            Grid.ColumnSpan="2"
            Style="{DynamicResource SettingPanelSeperatorStyle}" />

        <!--  Click Action  -->
        <TextBlock
            Grid.Row="8"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_click_action}" />
        <ComboBox
            Grid.Row="8"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            ItemsSource="{Binding ClickActions, Mode=OneWay}"
            SelectedItem="{Binding SelectedClickAction, Mode=TwoWay}" />

        <!--  Default Rich Text Copy Option  -->
        <TextBlock
            Grid.Row="9"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_default_rich_text_copy_option}" />
        <ComboBox
            Grid.Row="9"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            ItemsSource="{Binding DefaultRichTextCopyOptions, Mode=OneWay}"
            SelectedItem="{Binding SelectedDefaultRichTextCopyOption, Mode=TwoWay}" />

        <!--  Default Image Copy Option  -->
        <TextBlock
            Grid.Row="10"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_default_image_copy_option}" />
        <ComboBox
            Grid.Row="10"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            ItemsSource="{Binding DefaultImageCopyOptions, Mode=OneWay}"
            SelectedItem="{Binding SelectedDefaultImageCopyOption, Mode=TwoWay}" />

        <!--  Default Files Copy Option  -->
        <TextBlock
            Grid.Row="11"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_default_files_copy_option}" />
        <ComboBox
            Grid.Row="11"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            ItemsSource="{Binding DefaultFilesCopyOptions, Mode=OneWay}"
            SelectedItem="{Binding SelectedDefaultFilesCopyOption, Mode=TwoWay}" />

        <!--  Seperator  -->
        <Separator
            Grid.Row="12"
            Grid.ColumnSpan="2"
            Style="{DynamicResource SettingPanelSeperatorStyle}" />

        <!--  Cache Images & Cache Images Button  -->
        <StackPanel
            Grid.Row="13"
            Grid.ColumnSpan="2"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            Orientation="Horizontal">
            <CheckBox
                VerticalAlignment="Center"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_cache_images}"
                IsChecked="{Binding CacheImages, Mode=TwoWay}" />
            <Button
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding OpenCacheImageFolderCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_open_cache_folder}" />
            <Button
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding ClearCacheImageFolderCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_clean_cache_folder}" />
        </StackPanel>

        <!--  Cache Format  -->
        <TextBlock
            Grid.Row="14"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_cache_format}" />
        <TextBox
            x:Name="CacheFormatTextBox"
            Grid.Row="14"
            Grid.Column="1"
            MinWidth="200"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            AcceptsReturn="False"
            Text="{Binding CacheFormat, Mode=TwoWay}"
            TextWrapping="NoWrap" />

        <!--  Cache Format Buttons  -->
        <StackPanel
            Grid.Row="15"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            Orientation="Horizontal">
            <Button
                MinWidth="30"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_year}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="yyyy" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
            <Button
                MinWidth="30"
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_month}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="MM" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
            <Button
                MinWidth="30"
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_day}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="dd" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
            <Button
                MinWidth="30"
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_hour}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="hh" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
            <Button
                MinWidth="30"
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_minute}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="mm" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
            <Button
                MinWidth="30"
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_second}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="ss" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
            <Button
                MinWidth="30"
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                Command="{Binding FormatStringInsertCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_format_app}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{StaticResource MultiParameterConverter}">
                        <Binding ElementName="CacheFormatTextBox" />
                        <Binding Source="app" />
                    </MultiBinding>
                </Button.CommandParameter>
            </Button>
        </StackPanel>

        <!--  Cache Format Preview  -->
        <TextBlock
            Grid.Row="16"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Text="{DynamicResource flowlauncher_plugin_clipboardplus_cache_format_preview}" />
        <TextBox
            Grid.Row="16"
            Grid.Column="1"
            MinWidth="200"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            AcceptsReturn="False"
            IsEnabled="False"
            IsReadOnly="True"
            Text="{Binding CacheFormatPreview, Mode=OneWay}"
            TextWrapping="NoWrap" />

        <!--  Seperator  -->
        <Separator
            Grid.Row="17"
            Grid.ColumnSpan="2"
            Style="{DynamicResource SettingPanelSeperatorStyle}" />

        <!--  Encrypt Data & Import & Export Records Button  -->
        <StackPanel
            Grid.Row="18"
            Grid.ColumnSpan="2"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            Orientation="Horizontal">
            <CheckBox
                VerticalAlignment="Center"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_encrypt_data}"
                IsChecked="{Binding EncryptData, Mode=TwoWay}" />
            <Button
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding ImportJsonRecordsCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_import_records}" />
            <Button
                Margin="{StaticResource SettingPanelItemLeftMargin}"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding ExportJsonRecordsCommand}"
                Content="{DynamicResource flowlauncher_plugin_clipboardplus_export_records}" />
        </StackPanel>

        <!--  Keep Text  -->
        <CheckBox
            Grid.Row="19"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Content="{DynamicResource flowlauncher_plugin_clipboardplus_keep_text}"
            IsChecked="{Binding KeepText, Mode=TwoWay}" />
        <ComboBox
            Grid.Row="19"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            IsEnabled="{Binding KeepText, Mode=OneWay}"
            ItemsSource="{Binding TextKeepTimes, Mode=OneWay}"
            SelectedItem="{Binding SelectedTextKeepTime, Mode=TwoWay}" />

        <!--  Keep Images  -->
        <CheckBox
            Grid.Row="20"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Content="{DynamicResource flowlauncher_plugin_clipboardplus_keep_images}"
            IsChecked="{Binding KeepImages, Mode=TwoWay}" />
        <ComboBox
            Grid.Row="20"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            IsEnabled="{Binding KeepImages, Mode=OneWay}"
            ItemsSource="{Binding ImagesKeepTimes, Mode=OneWay}"
            SelectedItem="{Binding SelectedImagesKeepTime, Mode=TwoWay}" />

        <!--  Keep Files  -->
        <CheckBox
            Grid.Row="21"
            Grid.Column="0"
            Margin="{StaticResource SettingPanelItemTopBottomMargin}"
            VerticalAlignment="Center"
            Content="{DynamicResource flowlauncher_plugin_clipboardplus_keep_files}"
            IsChecked="{Binding KeepFiles, Mode=TwoWay}" />
        <ComboBox
            Grid.Row="21"
            Grid.Column="1"
            Margin="{StaticResource SettingPanelItemLeftTopBottomMargin}"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            IsEnabled="{Binding KeepFiles, Mode=OneWay}"
            ItemsSource="{Binding FilesKeepTimes, Mode=OneWay}"
            SelectedItem="{Binding SelectedFilesKeepTime, Mode=TwoWay}" />

    </Grid>
</UserControl>